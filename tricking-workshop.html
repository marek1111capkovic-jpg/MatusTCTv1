<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tricking Workshopy - Slovensko</title>
    <link rel="stylesheet" href="style.css"> 
    <style>
      /* Pôvodné štýly... */
      .schedule-table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
        margin: 30px 0;
        font-size: 1.1rem;
        background: rgba(255,255,255,0.07);
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 4px 24px rgba(49,0,0,0.10);
      }
      .schedule-table th {
        background: #000000;
        color: #fff;
        font-weight: 700;
        padding: 16px 10px;
        border: none;
        letter-spacing: 1px;
      }
      .schedule-table td {
        padding: 14px 10px;
        border: none;
        background: rgba(0,0,0,0.04);
        color: #222;
        transition: background 0.2s;
      }
      .schedule-table tbody tr {
        transition: background 0.2s, box-shadow 0.2s;
      }
      .schedule-table tbody tr:hover {
        background: #ffe5e5;
        box-shadow: 0 2px 12px rgba(104,0,0,0.10);
      }
      .schedule-table td a {
        padding: 7px 18px;
        border-radius: 8px;
        background: #fff6f6;
        color: #2b0000;
        font-weight: 600;
        text-decoration: none;
        transition: background 0.2s, color 0.2s;
      }
      .schedule-table td a:hover {
        background: #2b0000;
        color: #fff;
      }
      .register-btn {
        padding: 8px 22px;
        border-radius: 8px;
        background: #2b0000;
        color: #fff;
        font-weight: 600;
        border: none;
        cursor: pointer;
        transition: background 0.2s, transform 0.2s;
      }
      .register-btn:hover {
        background: #3d0404;
        transform: translateY(-2px);
      }
      .registered-count {
        font-weight: 700;
        color: #222;
        letter-spacing: 1px;
      }
      .full .registered-count {
        color: #b30000;
        font-weight: 700;
      }
      
      /* Nové štýly pre pozadie */
      body {
        position: relative;
        background-color: #f9f9f9;
      }
      
      .page-background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url('photos/pozadia/pozadie_workshopy.png');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        opacity: 0.99; /* Nižšia priehľadnosť, aby neodvádzal pozornosť */
        z-index: -1;
        pointer-events: none;
      }
      
      .content-wrapper {
        position: relative;
        z-index: 1;
        background-color: rgba(255, 255, 255, 0.85);
      }
    </style>
</head>

<body>
    <div class="main-background"></div>
    <div class="content-wrapper">
        <!-- Pridané pozadie stránky -->
        <div class="page-background"></div>
        
        <div class="top-bar">
            <div class="social-icons">
                <a href="https://www.instagram.com/matus_tct/" target="_blank">
                    <img src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png" alt="Instagram" class="social-icon">
                </a>
                <a href="https://www.tiktok.com/@matus_tct" target="_blank">
                    <img src="https://cdn-icons-png.flaticon.com/512/3046/3046121.png" alt="TikTok" class="social-icon">
                </a>
                <a href="https://www.youtube.com/@matus_tct" target="_blank">
                    <img src="https://cdn-icons-png.flaticon.com/512/1384/1384060.png" alt="YouTube" class="social-icon">
                </a>
            </div>
            
            <div class="logo-container">
                <a href="index.html">
                    <img src="photos/TCT logo.png" alt="Tricking Workshopy Logo" class="logo-img">
                </a>
            </div>

            <!-- Pomocný element pre vyváženie -->
            <div class="right-spacer"></div>
        </div>

        <div class="header-container">
            <div class="header-background"></div>
            <div class="header">
                <span style="font-size:5rem; font-weight:700; letter-spacing:2px; color:#fff; font-family:inherit; display:inline-block; line-height:1.05;">Matus TCT<br>Tricking Workshop</span>
            </div>
        </div>

        <!-- Ostatný obsah zostáva rovnaký... -->
        <div class="text-section">
            <h2><img src="photos/ikonky/info_icon.png" alt="Info" style="height:1.5em;vertical-align:-0.35em;margin-right:8px;">Čo je Tricking Workshop?</h2>
            <p>
                Akcia, na ktorej ti otvoríme dvere do sveta Trickingu a pre tých skúsenejších poradíme ako sa stať ešte lepšími. 
                Okrem naučenia sa základov Trickingu si odnesieš aj vedomosti, ktoré využiješ vo svojom tréningu. 
                Taktiež bude možnosť si zakúpiť exkluzívny Matus TCT merch, ktorý sa bude predávať iba na workshopoch.
            </p>
            <p>
                Tréning prebieha podľa bezpečnej metodiky a je vhodný pre úplných začiatočníkov aj pokročilých. Nezáleží na výške, váhe ani skúsenostiach - hlavná je chuť sa hýbať!
            </p>
        </div>

        <div class="map-container">
            <a href="bratislava.html" class="clickable-city" style="top: 66%; left: 5%;">Bratislava</a>
            <a href="nitra.html" class="clickable-city" style="top: 62%; left: 20%;">Nitra</a>
            <a href="prievidza.html" class="clickable-city" style="top: 70%; left: 32%;">Prievidza</a>
            <a href="kosice.html"  class="clickable-city" style="top: 48%; left: 72%;">Košice</a>
            <a href="poprad.html" class="clickable-city" style="top: 28%; left: 55%;">Poprad</a>

            <svg style="display: none;">
                <filter id="remove-white" color-interpolation-filters="sRGB">
                    <feColorMatrix type="matrix" values="1 0 0 0 0
                                                    0 1 0 0 0
                                                    0 0 1 0 0
                                                   -1 -1 -1 3 0"/>
                </filter>
            </svg>

            <img src="photos\mapa 2.svg" 
                 alt="Mapa Slovenska" 
                 class="slovakia-map">
        </div>

        <div class="text-section">
            <h2><img src="photos/ikonky/calendar_icon.png" alt="Termíny" style="height:1.5em;vertical-align:middle;margin-right:8px;">Termíny a Registrácie</h2>
            <table class="schedule-table">
                <thead>
                    <tr>
                        <th>Mesto</th>
                        <th>Dátum</th>
                        <th>Prihlásení</th>
                        <th>Akcia</th>
                        <th>Viac info</th>
                    </tr>
                </thead>
                <tbody>
                    <tr data-capacity="40" data-registered="0">
                        <td><strong>Bratislava - Inter Gymnastika Bratislava</strong></td>
                        <td>14.9. 12:00</td>
                        <td class="registered-count">VOLNÉ MIESTA</td>
                        <td><button class="register-btn">Registrovať</button></td>
                        <td><a href="bratislava.html" style="color:#680000; font-weight:600; text-decoration:underline;">Viac info</a></td>
                    </tr>
                    <tr data-capacity="40" data-registered="0">
                        <td><strong>Nitra - Skill Lab Nitra</strong></td>
                        <td>21.9. 12:00</td>
                        <td class="registered-count">VOLNÉ MIESTA</td>
                        <td><button class="register-btn">Registrovať</button></td>
                        <td><a href="nitra.html" style="color:#680000; font-weight:600; text-decoration:underline;">Viac info</a></td>
                    </tr>
                    <tr data-capacity="40" data-registered="0">
                        <td><strong>Prievidza - Gymnastiké centrum Prievidza</strong></td>
                        <td>28.9. 12:00</td>
                        <td class="registered-count">VOLNÉ MIESTA</td>
                        <td><button class="register-btn">Registrovať</button></td>
                        <td><a href="prievidza.html" style="color:#680000; font-weight:600; text-decoration:underline;">Viac info</a></td>
                    </tr>
                    <tr data-capacity="30" data-registered="30">
                        <td><strong>Poprad - Skill Lab Poprad</strong></td>
                        <td>5.10. 12:00</td>
                        <td class="registered-count">VOLNÉ MIESTA</td>
                        <td><button class="register-btn">Registrovať</button></td>
                        <td><a href="poprad.html" style="color:#680000; font-weight:600; text-decoration:underline;">Viac info</a></td>
                    </tr>
                    <tr data-capacity="40" data-registered="0">
                        <td><strong>Košice - Gymnastik Košice</strong></td>
                        <td>12.10. 12:00</td>
                        <td class="registered-count">VOLNÉ MIESTA</td>
                        <td><button class="register-btn">Registrovať</button></td>
                        <td><a href="kosice.html" style="color:#680000; font-weight:600; text-decoration:underline;">Viac info</a></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="text-section">
            <h2><img src="photos/ikonky/time_icon.png" alt="Program" style="height:1.5em;vertical-align:middle;margin-right:8px;">Program Tricking Workshopu</h2>
            <p><strong>12:00 - Začiatok registrácie</strong> (prineste si podpísanú prihlášku)</p>
            <ul>
                <li>možnosť zakúpiť si Matus TCT merch</li>
                <li>spoločné fotenie</li>
                <li>Tricking vystúpenie</li>
                <li>tréning Tricking základov v skupinách</li>
                <li>nácvik sált s istením</li>
                <li>posilňovacie cvičenia s vlastnou váhou na spevnenie tela</li>
            </ul>
            <p><strong>16:00 - Ukončenie workshopu</strong></p>
        </div>

        <div class="text-section">
            <h2><img src="photos/ikonky/backpack_icon.png" alt="Čo si vziať" style="height:1.5em;vertical-align:middle;margin-right:8px;">Čo si vziať so sebou?</h2>
            <ul>
                <li>podpísanú prihlášku od rodičov (bez nej nie je možné trénovať!)</li>
                <li>športové oblečenie</li>
                <li>kartičku poistenca</li>
                <li>malinké občerstvenie a dostatok pitnej vody</li>
                <li>ak si chceš kúpiť merch, nezabudni na hotovosť</li>
            </ul>
        </div>

        <div class="text-section">
            <h2><img src="photos/ikonky/info_icon.png" alt="Info" style="height:1.5em;vertical-align:-0.35em;margin-right:8px;">Ďalšie informácie</h2>
            <p>
                Workshopu sa môžeš zúčastniť aj ako divák!  
                Vstupné pre divákov je <strong>10€</strong> a platí sa v hotovosti na mieste.
            </p>
            <p>
                <em>(Pre rodičov: túto sumu neplatí jeden sprievod účastníka, ktorý dieťa priváža na akciu.)</em>
            </p>
        </div>

        <div class="text-section">
            <h2><img src="photos/ikonky/registracia_icon.png" alt="Registrácia" style="height:1.5em;vertical-align:middle;margin-right:8px;">Chceš sa zúčastniť?</h2>
            <p>Vyplň jednoduchý registračný formulár a zaisti si miesto na workshope.</p>
            <a href="registracia.html">
                <button class="register-btn">
                Registrovať sa
                </button>
            </a>
        </div>

        <footer id="kontakt">
            <p>© 2025 Matus TCT | Kontakt: matustctworkshop@gmail.com</p>
            <a href="obchodne-podmienky.pdf" class="footer-link">Obchodné podmienky</a>
        </footer>
    </div> <!-- Koniec content-wrapper -->

    <script>
        fetch("https://script.google.com/macros/s/AKfycbxzVDmkZSBlHFL7e33Bu0_PEaLGssNM2YUe79GD_yYBDB_yGM3aCfOOs3YMqvjYlL-_4Q/exec")
            .then(res => res.json())
            .then(data => {
                const rows = document.querySelectorAll("tr[data-capacity][data-registered]");

                rows.forEach(row => {
                const cityName = row.querySelector("td").textContent.trim();
                const registered = data[cityName];

                if (registered !== undefined) {
                    row.setAttribute("data-registered", registered);
                    const capacity = parseInt(row.getAttribute("data-capacity"), 10);
                    row.querySelector(".registered-count").textContent = `${registered} / ${capacity}`;
                }
                });
            })
            .catch(err => {
                console.error("Chyba pri načítaní údajov:", err);
        });

        // Animácie pri scrollovaní
        document.addEventListener('DOMContentLoaded', function() {
            const sections = document.querySelectorAll('.text-section, .map-container');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, {
                threshold: 0.1
            });

            sections.forEach(section => {
                observer.observe(section);
            });

            // Animácia pre nadpisy
            const headings = document.querySelectorAll('.text-section h2');
            headings.forEach((heading, index) => {
                heading.style.animation = `fadeIn 0.5s ease-out ${index * 0.2 + 0.3}s forwards`;
                heading.style.opacity = '0';
            });
        });

        // Efekt pre tlačidlá miest
        const cityButtons = document.querySelectorAll('.clickable-city');
        cityButtons.forEach(button => {
            button.addEventListener('mouseenter', () => {
                button.style.animation = 'none';
            });
            button.addEventListener('mouseleave', () => {
                setTimeout(() => {
                    button.style.animation = 'pulse 2s infinite';
                }, 50);
            });
        });

       // Funkcia na zvýšenie počtu prihlásených a presmerovanie
        function handleRegistration(button) {
            const row = button.closest('tr');
            const capacity = parseInt(row.dataset.capacity);
            let registered = parseInt(row.dataset.registered);
            const registeredCountCell = row.querySelector('.registered-count');
            
            // Skontrolujeme, či ešte nie je plné
            if (registered >= capacity) {
                button.disabled = true;
                button.textContent = 'Uzavreté';
                registeredCountCell.textContent = 'Prihlasovanie uzavreté';
                row.classList.add('full');
                return;
            }
            
            // Zvýšime počet prihlásených
            registered++;
            row.dataset.registered = registered;
            if (registered >= capacity) {
                button.disabled = true;
                button.textContent = 'Uzavreté';
                registeredCountCell.textContent = 'Prihlasovanie uzavreté';
                row.classList.add('full');
            } else {
                registeredCountCell.textContent = 'VOLNÉ MIESTA';
            }
            // Presmerujeme na registračný formulár
            window.location.href = "registracia.html";
        }

        // Inicializácia počtov pri načítaní stránky
        document.addEventListener('DOMContentLoaded', function() {
            const rows = document.querySelectorAll('.schedule-table tbody tr');
            rows.forEach(row => {
                const registered = parseInt(row.dataset.registered);
                const capacity = parseInt(row.dataset.capacity);
                const registeredCountCell = row.querySelector('.registered-count');
                const button = row.querySelector('.register-btn');
                // Nastavíme počiatočný text
                if (registered >= capacity) {
                    registeredCountCell.textContent = 'Kapacita naplnená';
                    button.disabled = true;
                    button.textContent = 'Uzavreté';
                    row.classList.add('full');
                } else {
                    registeredCountCell.textContent = 'VOLNÉ MIESTA';
                    button.disabled = false;
                    button.textContent = 'Registrovať';
                    button.addEventListener('click', function() {
                        handleRegistration(this);
                    });
                    registeredCountCell.style.color = '#1bb300'; // zelená len ak sú voľné miesta
                }
            });
        });

        const photos = [
            'photos/mainfoto/1.jpg',
            'photos/mainfoto/2.jpg',
            'photos/mainfoto/3.jpg',
            'photos/mainfoto/4.jpg',
            'photos/mainfoto/5.jpg',
            'photos/mainfoto/6.jpg',
            'photos/mainfoto/7.jpg',
            'photos/mainfoto/8.jpg',
            'photos/mainfoto/9.jpg',
        ];
        
        const bgElement = document.querySelector('.header-background');
        let currentPhoto = 0;
        
        // Nastavíme prvú fotku
        bgElement.style.backgroundImage = `url('${photos[currentPhoto]}')`;
        
        // Meníme fotky každé 2 sekundy
        setInterval(() => {
            currentPhoto = (currentPhoto + 1) % photos.length;
            bgElement.style.backgroundImage = `url('${photos[currentPhoto]}')`;
        }, 4000);
    </script>
</body>
</html>


